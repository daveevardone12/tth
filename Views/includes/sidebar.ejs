<div class="sidebar">
    <div class="logo-section">
        <div class="imageSection">
            <div>
                <img src="../images/ESSU_Logo_New.png" alt="University Logo">
            </div>
            <div class="pms">
                <img src="../images/new_logo.png" alt="PMS Logo" class="pms" style="width: 100%; height: 100%;">
            </div>
        </div>
        <div class="line">
            <div class="dot"></div>
            <div class="line1"></div>
            <div class="dot"></div>
        </div>
        <h5 class="title">EASTERN SAMAR STATE UNIVERSITY</h5>
        <div class="basta">
            <p>EXCELLENCE</p>
            <div class="dot"></div>
            <p>ACCOUNTABILITY</p>
            <div class="dot"></div>
            <p>SERVICE</p>
        </div>
    </div>

    <nav class="nav-menu">
        <ul>
            <li><a href="/dashboard"><img src="/Public/images/cuida--dashboard-outline.svg" alt=""
                        class="dash">Dashboard</a></li>
            <li>
                <a href="#addItemLink" id="addItemLink"><img src="/Public/images/material-symbols--add-ad.svg" alt=""
                        class="add">Add Item <img src="/Public/images/fe--arrow-down.svg" alt="" class="arrow_down"></a>
                <ul id="dropdown" style="display: none;" class="dropdown-men">
                    <li><a href="/par">Property Acknowledgement Receipt</a></li>
                    <li><a href="/ics">Inventory Custodian Slip</a></li>
                </ul>
            </li>
            <li><a href="/Inventory"><img src="/Public/images/material-symbols--inventory.svg" alt=""
                        class="inve">Inventory</a></li>

            <li>
                <a href="#" id="prslink">
                    <img src="/Public/images/hugeicons--delivery-return-02.svg" alt="" class="return"> Return Item
                    <img src="/Public/images/fe--arrow-down.svg" alt="" class="arrow_down_return">
                </a>
                <ul id="dropdowns" style="display: none;">
                    <li><a href="/prs">Property Return Slip</a></li>

                    <li><a href="/mrer">Maintenance Recommendation Evaluation Report Form</a></li>

                    <li><a href="/wmrf">Waste Material Report Form</a></li>

                </ul>
            </li>
            
            <li><a href="/ptr"><img src="/Public/images/bxs--user-account.svg" alt="" class="ptr">Property Transfer Receipt</a></li>
            
            <% if (role == "Admin"){ %>

                <li><a href="/rfid"><img src="" alt="" class="rfid">RFID</a></li>

                <li><a href="/notif"><img src="/Public/images/mingcute--notification-line.svg" alt=""
                            class="notif">Logs</a></li>

                <% } %>

                    <li><a href="/user"><img src="/Public/images/cuida--dashboard-outline.svg" alt="" class="use">User
                            Account</a></li>

                    <div class="footers">
                        <li>
                            <button class="logout-btn" onclick="confirmLogout()">
                                <div class="logout">
                                    Log Out
                                </div>
                            </button>
                        </li>
                    </div>
        </ul>
    </nav>
</div>
</div>

<script>
    function confirmLogout() {
        const userConfirmed = confirm("Are you sure you want to log out?");
        if (userConfirmed) {
            // Redirect to the backend logout route to clear the session
            window.location.href = "/logout";  // This will trigger the logout route on the backend
        }
    }


</script>

<script>
    // Add Item link functionality
    document.getElementById("addItemLink").addEventListener("click", function (event) {
        event.preventDefault(); // Prevent the default link behavior
        const dropdown = document.getElementById("dropdown");
        const arrow = document.querySelector(".arrow_down");

        // Toggle the display of the dropdown
        if (dropdown.style.display === "none" || dropdown.style.display === "") {
            dropdown.style.display = "block"; // Show the dropdown
        } else {
            dropdown.style.display = "none"; // Hide the dropdown
        }

        // Toggle the rotation of the arrow
        arrow.classList.toggle("rotate");
    });

    // Return Item link functionality
    document.getElementById("prslink").addEventListener("click", function (event) {
        event.preventDefault(); // Prevent the default link behavior
        const dropdown = document.getElementById("dropdowns");
        const arrowReturn = document.querySelector(".arrow_down_return");

        // Toggle the display of the dropdown
        if (dropdown.style.display === "none" || dropdown.style.display === "") {
            dropdown.style.display = "block"; // Show the dropdown
        } else {
            dropdown.style.display = "none"; // Hide the dropdown
        }

        // Toggle the rotation of the return arrow
        arrowReturn.classList.toggle("rotate");
    });
</script>